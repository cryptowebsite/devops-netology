# Lesson 14.1

## 1. Работа с секретами через утилиту kubectl в установленном minikube
### 1.1 Как создать секрет?
```shell
mkdir certs
openssl genrsa -out certs/cert.key 4096

# Generating RSA private key, 4096 bit long modulus (2 primes)
# ...++++
# .........++++
# e is 65537 (0x010001)

openssl req -x509 -new -key certs/cert.key -days 3650 -out certs/cert.crt \
-subj '/C=RU/ST=Moscow/L=Moscow/CN=server.local'
kubectl create secret tls domain-cert --cert=certs/cert.crt --key=certs/cert.key

# secret/domain-cert created
```
### 1.2 Как просмотреть секрет?
```shell
kubectl get secret domain-cert

# NAME          TYPE                DATA   AGE
# domain-cert   kubernetes.io/tls   2      108s

kubectl describe secret domain-cert

# Name:         domain-cert
# Namespace:    default
# Labels:       <none>
# Annotations:  <none>

# Type:  kubernetes.io/tls

# Data
# ====
# tls.crt:  1944 bytes
# tls.key:  3243 bytes
```
### 1.3 Как получить информацию в формате YAML и/или JSON?
```shell
kubectl get secret domain-cert -o yaml

# apiVersion: v1
# data:
#   tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVZkNHM2tPcXhXSk1qdlJPTkZzNzh1SVFYNmdVd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd056STRNRFl3T1RBeldoY05Nekl3Ck56STFNRFl3T1RBeldqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBSzZaZkNGUnpEbEptTmRoUXVsNW9hcTA3UHo1QjRjQmFWZ01TUWtHCnVKNFd1L3Y0TFVpb1lSdm5jdzFPdGNQOVNXbEN5dStleURoNFJjRHdobXFyOEMxODh3ckE3L082Q2NJdGo3bWkKWWtzK3ZlVndwbzNkcE5GSTBlQ3BYRFp3Qnp6ankxaUp2aVl2MUFReDFocjZrVlgzSHg5ZDBJcVB6cjJ4REVIVwpGeVA5WkRpZWsyeUJ3MUpIb1NRMWpXNjBnZWphMG9NZUZHQ3lrc3lqWjFaUXhGTmoybmp2TktMK3hJcWplVjVsCnk1Rkh4d2F0YWpLbmk1aVA4Ulh0QmJrRkRWVkNZbFVLZjZLdFN4Mnc4VXJkWkdPa3V1a0d4ZjB0bkx1Vmh6VUIKc1BmMlJaZHUyUVFzRmN5ZWZWU1U4eGt0QlBVNHRhYm16bS9uOUZjMmw1dUlZZ0lkYVVNdHZDeVlINlRmUUJUdwpmYlB5MjlOOHluSFgwTUZCSm1hMFF5UTFEKytqeVFIVHA1cnRPT2U3d1FyUlQ3dThEUUE0R0F4amUzNWVackdLCnFVOFRmL0RnTktPdzk0cEhpWCtuYmlTRW9KYnh1NSt4Slo1YzEzQTJRSERtdy9PSm1nMjVIS292MU9lYVV6cWYKbWtrNmZpenBrWnZUbUxEU0hsWjkvUWhyaCtVRVhvRmFkQW9QOWhJR2xxY0l6YW5ZYUU0NlpldFRNOHkyTEsxLwpHQ1E2ZHJXQzZVWmF5YzRCbUF5MHRDQWNhOGdnUFVKTkUyZzlXS3luV09XU1BIRnR6ZjRKWUlKWjRhejJqKzlRCjBUektmZzh0dUoxZ0NENGdkMWFINnpOd2FpUmcydjkwc011RUNDcThpejlndXlxc05tVGFOYVAxaTlTS2ZZUXUKQ056RkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFmQmdOVgpIU01FR0RBV2dCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBU1pja0ovaWNpRzh3Vi9aQVYwd0JNc3E5YVFHMnZTVjF1MmRsNlBrSWQKM0x2MWhLUkZkanZucUdUTC9kNWNRVGQ0K3FGNnBUa0Zwb2xTaFE1eTlMNS9wQVo2QWNraGlzemJ1OHcvQnBBZQptQ25mOE1JdTVvT1FjbkxaTEpqWDNkVG5kSWdwdXlmVlJBbXVqL0diOXpZSzk1cENJYVlEeUtpL2xpZ3cyS2x1CnVaakNKTUdIQzlLdHBuNTEwYjZEVnR0V25wdTVnVG5aRitEc2dqN01pMUpQaDNjcDRkdkZJMUdPdXFrWG1lazYKZ0V4V2RSaksvOGs0Q2YvOFY1YzdMME55L045RUcxZ2lWVnVYZlM4L2pXUTkwbERxK3RzMTRkbVF1ZzZzVW1PbApwZnFZTU5sdENzVlp0aWtKQU8reHZ2Y0FWTEN1elNzUDF1WlJublRXZU14RGFGSE5RRSs5bnczdDBlVVNmV3orCmV5TGhTQ3ZEWDIxTTd1WW1TQy9Cb2Vuc1NDWVZTZlRJY1k1R3FRbG84N1FaQXc2UzNxeTFzS1ZFUjRiZmNTUDgKcVNML3Z2cVN1L1hUWnZGOUNEYzFrYk5SNjdZcmg4bHlrd1h6dE1TenZRNVN4ZlBPeTViYlF1MDVDOElxdW1ucgpoLzJCS1N1bU1aamtLWUxyNUg4ZkZhTmJud0FMYmJOSzBhc29tTFFWQjU5bERJZjRRTTNNNnNHTkJ4Z2QvclV2CmVIUlNvVU5LaWd0ajY0cXMxdUp2UUU5cENxNjZTYTVveWtFN1MyYzcxN05WK3pMRFVDellMRXBJSUVJQkkxMy8KaS81SHhpZ3dJaXh5aDZFOVQyY1l2aWJ6S29PbS83OGxVc2VjVTVVSStvNFR1bEs1cXQrbHhLcmdvS3Z0VyszSApDUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
#   tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBcnBsOElWSE1PVW1ZMTJGQzZYbWhxclRzL1BrSGh3RnBXQXhKQ1FhNG5oYTcrL2d0ClNLaGhHK2R6RFU2MXcvMUphVUxLNzU3SU9IaEZ3UENHYXF2d0xYenpDc0R2ODdvSndpMlB1YUppU3o2OTVYQ20KamQyazBValI0S2xjTm5BSFBPUExXSW0rSmkvVUJESFdHdnFSVmZjZkgxM1Fpby9PdmJFTVFkWVhJLzFrT0o2VApiSUhEVWtlaEpEV05iclNCNk5yU2d4NFVZTEtTektOblZsREVVMlBhZU84MG92N0VpcU41WG1YTGtVZkhCcTFxCk1xZUxtSS94RmUwRnVRVU5WVUppVlFwL29xMUxIYkR4U3Qxa1k2UzY2UWJGL1MyY3U1V0hOUUd3OS9aRmwyN1oKQkN3VnpKNTlWSlR6R1MwRTlUaTFwdWJPYitmMFZ6YVhtNGhpQWgxcFF5MjhMSmdmcE45QUZQQjlzL0xiMDN6SwpjZGZRd1VFbVpyUkRKRFVQNzZQSkFkT25tdTA0NTd2QkN0RlB1N3dOQURnWURHTjdmbDVtc1lxcFR4Ti84T0EwCm83RDNpa2VKZjZkdUpJU2dsdkc3bjdFbG5selhjRFpBY09iRDg0bWFEYmtjcWkvVTU1cFRPcCthU1RwK0xPbVIKbTlPWXNOSWVWbjM5Q0d1SDVRUmVnVnAwQ2cvMkVnYVdwd2pOcWRob1RqcGw2MU16ekxZc3JYOFlKRHAydFlMcApSbHJKemdHWURMUzBJQnhyeUNBOVFrMFRhRDFZcktkWTVaSThjVzNOL2dsZ2dsbmhyUGFQNzFEUlBNcCtEeTI0Cm5XQUlQaUIzVm9mck0zQnFKR0RhLzNTd3k0UUlLcnlMUDJDN0txdzJaTm8xby9XTDFJcDloQzRJM01VQ0F3RUEKQVFLQ0FnQjE4UHdtemNoMGtrQ0tqUXJVQi9PckNwaGpzaHpobDVSL2c1ejZXZTN2N0UrRHYzdG5iMFpad1JpNAp6b2grSWVTckZCRmRtQmFML3NLdnVFbzBXSHpmWFY0WHo0akhUTTQydXV3eGEzMldjb1Y0TFlaMG9sb3BmVlU0CnUyNnMzelFrYjRQM0JPVExpdGRmRmdNWktsVnVpb1lkZkJQWTVaZTBENXJHQmthUGF5VitFYkJvUmFlWk53V2wKSGYreDNvRTZ1RVluaC9RZjljQ3dOMWtndDJKSEtsWjBCckc1d1BzbTQ1S2lyNFM1V0pFYTg1MmZKZ3BvUGlPTwp1aE41amU0WnY4UUl5aFM1NFBHeTFzbkgxcEZ2dGVFRWRDemQveWUybHlWRUt5Wk4rYSs4d1lZYkNXU1lXaDh6Ck9ZS1ZhUkhHVEU1NHRjU1JWMUI0Y1Vvc0tBNTdYWVZ5d3pESVpDUExqd29Yb0NHbU5maVpqTXpFRGR6cDQ4YmwKV2E1ZStGNzkwbHJ6bE5tZ2ZpczZlRTNGZERPSmxBc25IS1AzQldaR28wTFdZYWNCUTRCMlVsYVRzTldPNzZkdgpaeUdnM0xGTC9FaGhTRDRlZ3l2N1NBUXoySFcxcEE5b0xOMlRTcUNMdmJ3N2VoNURCU3U5UlhtdXZHbHd6Wnd4Cm56SmJIaFl1OFNoVEYyd2ZIL2Zsa0V0aTdmZ2E1T294RkowNGkwYmc4MjlPL2h2NjhpMGtqUU9na243Qnk5Y3QKUi9IRHFZeEJuYVpzQjVqczRYTGljeUdLaVN6d3BRQmYzaEVXR0YxR1FxRlFSZFlrbUJ3MTFUS0hCNWErVXlYeApJL05GZlJXODRsbm8wQjA3bzVrbVkrL1p0Sm1FL3lyU3g1bVY3YU1SWmF5NWxBZHpxUUtDQVFFQTJQUVhvT1YzCmhXTWZxUGRuVHZBV3BZNm1FbHBhUElFL2hSYkFUNzRZeWdIbEd1MmZyeFJBa3dBN1hYTjJrckEvNFZIc2xSZS8KempUSlI4SkVmRGpNaDFnVXQ2dHZNN3RpcUFrMEhTU29OTndPK1hUaE41Y0lHZlkraEpkOFhRV3pRK0VUWVhncgp6NnkvOUl3ejIwemZLeFVBRXpTenhoOHZVaXJsVFZrSVVJcC9pUWJsbHZsVjZBTUczeUtZQzRqTkRQakdKUDNNCkZqdyswV25NK2dvUkx0cGtzOVhSKzFZL0xRNzBZNUhPVjY4azlhb1YrUmNSRlVqdS9Hcjlrb3laNXE1dFVReFQKUk8xUW84TWxiUnZuQVJuLzMxd3lMalh5eVN2U05GUTRRQyszeWJxc3dVaFNmYWl5OUI2aE1xSHdEQVJNS2xFNgpoNDNudWZBSHpYR2lLd0tDQVFFQXpnWDZrU2U4cEtmcG5qTnpyK2ozc0EyK2RmcHhyNWMyc2NCM2ZkeHd4ZVBCCng4Mk5NTDg1YWxWbDV6T0RGK0ordHFkeGpJWDhTY3I5L09Dc0ZjQ2JTRzRxdzRITmtua3Z5dk0vdlg0ZXB6WjEKT1ltcDl6M1lOaExzTllnV1VSWTljSzZVU2FsVHU1cjVWbzM5andpZzJVZkloZzhSOUJsZys4Q3ltSWhlYmlNeQpudnE4cFQySC9MOHA5cFdGajcwZFRQQk0rdFBrcXduSHJ4NlRtZ2RyRHAzNkZEOWg0UXVuR2o4QUpueUZLMG1sCndldGZhWXkxWUtuMFZsUVptVDVmOXhJSFhlcXBDc2ZYZ2NybzZheDJRc2JPTWtRKzZQanNWKzMyZDAwanNEY2cKMHk1R2wzbzNLcThHdklpZXFjaUtJa1hRMUM2dEM2SlBRVWVsa2FJMHp3S0NBUUVBeFVHeUZoMXMvWDl4c3N3MwpSd051WTlyK1RpT09kZ0xDQVR6OVg4T2tnRThXd3RRWTR6UFR2cFJ3Wlhoczc5U0dVRlNQZWNPZEpsekNRWmQxCmMwaWxWYzJWRUtZenRtS0N3ZXVVVVljWjFPM2NRNTJzaEVHeklQL09PZm9PSGZubjB5amEyVDFOQUVhK1JSZ1EKc2kwRG9BVTVDejFZMHlOWmdDajJVY3hJamdwUENRU1hUUnlvcWduT2ZxVFNmM0pEbGE2L1liVE1rYzczQXFwaQpyMWpsNUthMjl2ZkxNdTFwQll2YVVvbW9oZnI5N010WHJTSDI2MVpqekdkdTVJY29DeUMremZrWjRNcXhEaVNKCmE5bjV2L3VtdEt2OENCNFBBQy95c0pkK2lZV1pZalp6aWswNmkzd09NWDJEN1NobHZGZFA5UTNqM0luK2pnV2EKNG9XVi93S0NBUUJJWkNsckg3OVZTL3IycjdXU3RoVnlNeUlkYW1iUUFCNGp6ekV0ZEd2YjNPK1dPVS9ITlNvRApod1pMZXZveFJsQ245YVljYm1mN3Rld1JFeERrZzgwTVlrbDhjUHUrMy80L0hjSGozNUQ5eUZEZ2F0TGlJVVQ3Cm15S01uTWphclNuaGtqWmd1N0xFVk93UDBjeXFtYW1MTDRIeU9SRmg2QmovM1BIa1R1Wi9aTGJBemZIRFRoK2UKVzcxdSs1TDJzc2k4NUNMb2I5UUZsV1lvem1HbTJieHdZbW9nK3pSMVV4YmdUZ3JMZXkxL3pGMEdDcUo0QUEwcgpiZ3lBMlFRMXFJa24wNW5yRWkxYnNHUzFJb3M4c0hETmZmV3VDL1RlLzdoc0hSMWhSaVdvSVhiVFBZdG9ablZECjlrUXpzdjJ0UXQzbXRRbHZ4UWJnODZOTm1OTkFuUEpaQW9JQkFGMDF4MjZwU015akg4K2MxaW9VYVdaanRUZzgKMzFpU3NjR2VRMmVqQU91eXdLVUNhem9KN2wvZDhqL1BEMDgwMTZ5aEhzR2hrYUlFQmNsQjVyVjMrWVFib0tleAowbDMzVVRZZ2lHUTlleEVIVkR1YkFMYW16eHdBeW9KcEdqZHpNWjVNVHZNWitoak5kMzBmNEFQWUg3L2IyRFBNCkIyTVFzZGVoTFV0RHhFVEVqZlB2djV6WG9BWlhqcVZoTUFQSm1LM2pwVk9LWHJncC9LWVhKdHpBc0tpN0lpM3kKRlQxV2JHZkI3cWJJTTNSTE5Ib1Z0L3YwdHJDTlBGcVlsWWErYS9FdWI0R3cxc29IaXBsR3FWbDZRczFmOHRUVAo2aFkwRkwxMjdmNFpNVThJZHlyRnFva0tMZXdmVkRCcUZUc1E5TjBGQk90Mm0veThPMHdDdHNSbEZ5RT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
# kind: Secret
# metadata:
#   creationTimestamp: "2022-07-28T06:09:10Z"
#   name: domain-cert
#   namespace: default
#   resourceVersion: "7181"
#   uid: f898e4b0-4f83-4fcd-b13f-d6d2f085da77
# type: kubernetes.io/tls

kubectl get secret domain-cert -o json

# {
#     "apiVersion": "v1",
#     "data": {
#         "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVZkNHM2tPcXhXSk1qdlJPTkZzNzh1SVFYNmdVd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd056STRNRFl3T1RBeldoY05Nekl3Ck56STFNRFl3T1RBeldqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBSzZaZkNGUnpEbEptTmRoUXVsNW9hcTA3UHo1QjRjQmFWZ01TUWtHCnVKNFd1L3Y0TFVpb1lSdm5jdzFPdGNQOVNXbEN5dStleURoNFJjRHdobXFyOEMxODh3ckE3L082Q2NJdGo3bWkKWWtzK3ZlVndwbzNkcE5GSTBlQ3BYRFp3Qnp6ankxaUp2aVl2MUFReDFocjZrVlgzSHg5ZDBJcVB6cjJ4REVIVwpGeVA5WkRpZWsyeUJ3MUpIb1NRMWpXNjBnZWphMG9NZUZHQ3lrc3lqWjFaUXhGTmoybmp2TktMK3hJcWplVjVsCnk1Rkh4d2F0YWpLbmk1aVA4Ulh0QmJrRkRWVkNZbFVLZjZLdFN4Mnc4VXJkWkdPa3V1a0d4ZjB0bkx1Vmh6VUIKc1BmMlJaZHUyUVFzRmN5ZWZWU1U4eGt0QlBVNHRhYm16bS9uOUZjMmw1dUlZZ0lkYVVNdHZDeVlINlRmUUJUdwpmYlB5MjlOOHluSFgwTUZCSm1hMFF5UTFEKytqeVFIVHA1cnRPT2U3d1FyUlQ3dThEUUE0R0F4amUzNWVackdLCnFVOFRmL0RnTktPdzk0cEhpWCtuYmlTRW9KYnh1NSt4Slo1YzEzQTJRSERtdy9PSm1nMjVIS292MU9lYVV6cWYKbWtrNmZpenBrWnZUbUxEU0hsWjkvUWhyaCtVRVhvRmFkQW9QOWhJR2xxY0l6YW5ZYUU0NlpldFRNOHkyTEsxLwpHQ1E2ZHJXQzZVWmF5YzRCbUF5MHRDQWNhOGdnUFVKTkUyZzlXS3luV09XU1BIRnR6ZjRKWUlKWjRhejJqKzlRCjBUektmZzh0dUoxZ0NENGdkMWFINnpOd2FpUmcydjkwc011RUNDcThpejlndXlxc05tVGFOYVAxaTlTS2ZZUXUKQ056RkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFmQmdOVgpIU01FR0RBV2dCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBU1pja0ovaWNpRzh3Vi9aQVYwd0JNc3E5YVFHMnZTVjF1MmRsNlBrSWQKM0x2MWhLUkZkanZucUdUTC9kNWNRVGQ0K3FGNnBUa0Zwb2xTaFE1eTlMNS9wQVo2QWNraGlzemJ1OHcvQnBBZQptQ25mOE1JdTVvT1FjbkxaTEpqWDNkVG5kSWdwdXlmVlJBbXVqL0diOXpZSzk1cENJYVlEeUtpL2xpZ3cyS2x1CnVaakNKTUdIQzlLdHBuNTEwYjZEVnR0V25wdTVnVG5aRitEc2dqN01pMUpQaDNjcDRkdkZJMUdPdXFrWG1lazYKZ0V4V2RSaksvOGs0Q2YvOFY1YzdMME55L045RUcxZ2lWVnVYZlM4L2pXUTkwbERxK3RzMTRkbVF1ZzZzVW1PbApwZnFZTU5sdENzVlp0aWtKQU8reHZ2Y0FWTEN1elNzUDF1WlJublRXZU14RGFGSE5RRSs5bnczdDBlVVNmV3orCmV5TGhTQ3ZEWDIxTTd1WW1TQy9Cb2Vuc1NDWVZTZlRJY1k1R3FRbG84N1FaQXc2UzNxeTFzS1ZFUjRiZmNTUDgKcVNML3Z2cVN1L1hUWnZGOUNEYzFrYk5SNjdZcmg4bHlrd1h6dE1TenZRNVN4ZlBPeTViYlF1MDVDOElxdW1ucgpoLzJCS1N1bU1aamtLWUxyNUg4ZkZhTmJud0FMYmJOSzBhc29tTFFWQjU5bERJZjRRTTNNNnNHTkJ4Z2QvclV2CmVIUlNvVU5LaWd0ajY0cXMxdUp2UUU5cENxNjZTYTVveWtFN1MyYzcxN05WK3pMRFVDellMRXBJSUVJQkkxMy8KaS81SHhpZ3dJaXh5aDZFOVQyY1l2aWJ6S29PbS83OGxVc2VjVTVVSStvNFR1bEs1cXQrbHhLcmdvS3Z0VyszSApDUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
#         "tls.key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBcnBsOElWSE1PVW1ZMTJGQzZYbWhxclRzL1BrSGh3RnBXQXhKQ1FhNG5oYTcrL2d0ClNLaGhHK2R6RFU2MXcvMUphVUxLNzU3SU9IaEZ3UENHYXF2d0xYenpDc0R2ODdvSndpMlB1YUppU3o2OTVYQ20KamQyazBValI0S2xjTm5BSFBPUExXSW0rSmkvVUJESFdHdnFSVmZjZkgxM1Fpby9PdmJFTVFkWVhJLzFrT0o2VApiSUhEVWtlaEpEV05iclNCNk5yU2d4NFVZTEtTektOblZsREVVMlBhZU84MG92N0VpcU41WG1YTGtVZkhCcTFxCk1xZUxtSS94RmUwRnVRVU5WVUppVlFwL29xMUxIYkR4U3Qxa1k2UzY2UWJGL1MyY3U1V0hOUUd3OS9aRmwyN1oKQkN3VnpKNTlWSlR6R1MwRTlUaTFwdWJPYitmMFZ6YVhtNGhpQWgxcFF5MjhMSmdmcE45QUZQQjlzL0xiMDN6SwpjZGZRd1VFbVpyUkRKRFVQNzZQSkFkT25tdTA0NTd2QkN0RlB1N3dOQURnWURHTjdmbDVtc1lxcFR4Ti84T0EwCm83RDNpa2VKZjZkdUpJU2dsdkc3bjdFbG5selhjRFpBY09iRDg0bWFEYmtjcWkvVTU1cFRPcCthU1RwK0xPbVIKbTlPWXNOSWVWbjM5Q0d1SDVRUmVnVnAwQ2cvMkVnYVdwd2pOcWRob1RqcGw2MU16ekxZc3JYOFlKRHAydFlMcApSbHJKemdHWURMUzBJQnhyeUNBOVFrMFRhRDFZcktkWTVaSThjVzNOL2dsZ2dsbmhyUGFQNzFEUlBNcCtEeTI0Cm5XQUlQaUIzVm9mck0zQnFKR0RhLzNTd3k0UUlLcnlMUDJDN0txdzJaTm8xby9XTDFJcDloQzRJM01VQ0F3RUEKQVFLQ0FnQjE4UHdtemNoMGtrQ0tqUXJVQi9PckNwaGpzaHpobDVSL2c1ejZXZTN2N0UrRHYzdG5iMFpad1JpNAp6b2grSWVTckZCRmRtQmFML3NLdnVFbzBXSHpmWFY0WHo0akhUTTQydXV3eGEzMldjb1Y0TFlaMG9sb3BmVlU0CnUyNnMzelFrYjRQM0JPVExpdGRmRmdNWktsVnVpb1lkZkJQWTVaZTBENXJHQmthUGF5VitFYkJvUmFlWk53V2wKSGYreDNvRTZ1RVluaC9RZjljQ3dOMWtndDJKSEtsWjBCckc1d1BzbTQ1S2lyNFM1V0pFYTg1MmZKZ3BvUGlPTwp1aE41amU0WnY4UUl5aFM1NFBHeTFzbkgxcEZ2dGVFRWRDemQveWUybHlWRUt5Wk4rYSs4d1lZYkNXU1lXaDh6Ck9ZS1ZhUkhHVEU1NHRjU1JWMUI0Y1Vvc0tBNTdYWVZ5d3pESVpDUExqd29Yb0NHbU5maVpqTXpFRGR6cDQ4YmwKV2E1ZStGNzkwbHJ6bE5tZ2ZpczZlRTNGZERPSmxBc25IS1AzQldaR28wTFdZYWNCUTRCMlVsYVRzTldPNzZkdgpaeUdnM0xGTC9FaGhTRDRlZ3l2N1NBUXoySFcxcEE5b0xOMlRTcUNMdmJ3N2VoNURCU3U5UlhtdXZHbHd6Wnd4Cm56SmJIaFl1OFNoVEYyd2ZIL2Zsa0V0aTdmZ2E1T294RkowNGkwYmc4MjlPL2h2NjhpMGtqUU9na243Qnk5Y3QKUi9IRHFZeEJuYVpzQjVqczRYTGljeUdLaVN6d3BRQmYzaEVXR0YxR1FxRlFSZFlrbUJ3MTFUS0hCNWErVXlYeApJL05GZlJXODRsbm8wQjA3bzVrbVkrL1p0Sm1FL3lyU3g1bVY3YU1SWmF5NWxBZHpxUUtDQVFFQTJQUVhvT1YzCmhXTWZxUGRuVHZBV3BZNm1FbHBhUElFL2hSYkFUNzRZeWdIbEd1MmZyeFJBa3dBN1hYTjJrckEvNFZIc2xSZS8KempUSlI4SkVmRGpNaDFnVXQ2dHZNN3RpcUFrMEhTU29OTndPK1hUaE41Y0lHZlkraEpkOFhRV3pRK0VUWVhncgp6NnkvOUl3ejIwemZLeFVBRXpTenhoOHZVaXJsVFZrSVVJcC9pUWJsbHZsVjZBTUczeUtZQzRqTkRQakdKUDNNCkZqdyswV25NK2dvUkx0cGtzOVhSKzFZL0xRNzBZNUhPVjY4azlhb1YrUmNSRlVqdS9Hcjlrb3laNXE1dFVReFQKUk8xUW84TWxiUnZuQVJuLzMxd3lMalh5eVN2U05GUTRRQyszeWJxc3dVaFNmYWl5OUI2aE1xSHdEQVJNS2xFNgpoNDNudWZBSHpYR2lLd0tDQVFFQXpnWDZrU2U4cEtmcG5qTnpyK2ozc0EyK2RmcHhyNWMyc2NCM2ZkeHd4ZVBCCng4Mk5NTDg1YWxWbDV6T0RGK0ordHFkeGpJWDhTY3I5L09Dc0ZjQ2JTRzRxdzRITmtua3Z5dk0vdlg0ZXB6WjEKT1ltcDl6M1lOaExzTllnV1VSWTljSzZVU2FsVHU1cjVWbzM5andpZzJVZkloZzhSOUJsZys4Q3ltSWhlYmlNeQpudnE4cFQySC9MOHA5cFdGajcwZFRQQk0rdFBrcXduSHJ4NlRtZ2RyRHAzNkZEOWg0UXVuR2o4QUpueUZLMG1sCndldGZhWXkxWUtuMFZsUVptVDVmOXhJSFhlcXBDc2ZYZ2NybzZheDJRc2JPTWtRKzZQanNWKzMyZDAwanNEY2cKMHk1R2wzbzNLcThHdklpZXFjaUtJa1hRMUM2dEM2SlBRVWVsa2FJMHp3S0NBUUVBeFVHeUZoMXMvWDl4c3N3MwpSd051WTlyK1RpT09kZ0xDQVR6OVg4T2tnRThXd3RRWTR6UFR2cFJ3Wlhoczc5U0dVRlNQZWNPZEpsekNRWmQxCmMwaWxWYzJWRUtZenRtS0N3ZXVVVVljWjFPM2NRNTJzaEVHeklQL09PZm9PSGZubjB5amEyVDFOQUVhK1JSZ1EKc2kwRG9BVTVDejFZMHlOWmdDajJVY3hJamdwUENRU1hUUnlvcWduT2ZxVFNmM0pEbGE2L1liVE1rYzczQXFwaQpyMWpsNUthMjl2ZkxNdTFwQll2YVVvbW9oZnI5N010WHJTSDI2MVpqekdkdTVJY29DeUMremZrWjRNcXhEaVNKCmE5bjV2L3VtdEt2OENCNFBBQy95c0pkK2lZV1pZalp6aWswNmkzd09NWDJEN1NobHZGZFA5UTNqM0luK2pnV2EKNG9XVi93S0NBUUJJWkNsckg3OVZTL3IycjdXU3RoVnlNeUlkYW1iUUFCNGp6ekV0ZEd2YjNPK1dPVS9ITlNvRApod1pMZXZveFJsQ245YVljYm1mN3Rld1JFeERrZzgwTVlrbDhjUHUrMy80L0hjSGozNUQ5eUZEZ2F0TGlJVVQ3Cm15S01uTWphclNuaGtqWmd1N0xFVk93UDBjeXFtYW1MTDRIeU9SRmg2QmovM1BIa1R1Wi9aTGJBemZIRFRoK2UKVzcxdSs1TDJzc2k4NUNMb2I5UUZsV1lvem1HbTJieHdZbW9nK3pSMVV4YmdUZ3JMZXkxL3pGMEdDcUo0QUEwcgpiZ3lBMlFRMXFJa24wNW5yRWkxYnNHUzFJb3M4c0hETmZmV3VDL1RlLzdoc0hSMWhSaVdvSVhiVFBZdG9ablZECjlrUXpzdjJ0UXQzbXRRbHZ4UWJnODZOTm1OTkFuUEpaQW9JQkFGMDF4MjZwU015akg4K2MxaW9VYVdaanRUZzgKMzFpU3NjR2VRMmVqQU91eXdLVUNhem9KN2wvZDhqL1BEMDgwMTZ5aEhzR2hrYUlFQmNsQjVyVjMrWVFib0tleAowbDMzVVRZZ2lHUTlleEVIVkR1YkFMYW16eHdBeW9KcEdqZHpNWjVNVHZNWitoak5kMzBmNEFQWUg3L2IyRFBNCkIyTVFzZGVoTFV0RHhFVEVqZlB2djV6WG9BWlhqcVZoTUFQSm1LM2pwVk9LWHJncC9LWVhKdHpBc0tpN0lpM3kKRlQxV2JHZkI3cWJJTTNSTE5Ib1Z0L3YwdHJDTlBGcVlsWWErYS9FdWI0R3cxc29IaXBsR3FWbDZRczFmOHRUVAo2aFkwRkwxMjdmNFpNVThJZHlyRnFva0tMZXdmVkRCcUZUc1E5TjBGQk90Mm0veThPMHdDdHNSbEZ5RT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
#     },
#     "kind": "Secret",
#     "metadata": {
#         "creationTimestamp": "2022-07-28T06:09:10Z",
#         "name": "domain-cert",
#         "namespace": "default",
#         "resourceVersion": "7181",
#         "uid": "f898e4b0-4f83-4fcd-b13f-d6d2f085da77"
#     },
#     "type": "kubernetes.io/tls"
# }
```
### 1.4 Как выгрузить секрет и сохранить его в файл?
```shell
kubectl get secrets -o json > secrets.json
cat secrets.json

# {
#     "apiVersion": "v1",
#     "items": [
#         {
#             "apiVersion": "v1",
#             "data": {
#                 "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVZkNHM2tPcXhXSk1qdlJPTkZzNzh1SVFYNmdVd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd056STRNRFl3T1RBeldoY05Nekl3Ck56STFNRFl3T1RBeldqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBSzZaZkNGUnpEbEptTmRoUXVsNW9hcTA3UHo1QjRjQmFWZ01TUWtHCnVKNFd1L3Y0TFVpb1lSdm5jdzFPdGNQOVNXbEN5dStleURoNFJjRHdobXFyOEMxODh3ckE3L082Q2NJdGo3bWkKWWtzK3ZlVndwbzNkcE5GSTBlQ3BYRFp3Qnp6ankxaUp2aVl2MUFReDFocjZrVlgzSHg5ZDBJcVB6cjJ4REVIVwpGeVA5WkRpZWsyeUJ3MUpIb1NRMWpXNjBnZWphMG9NZUZHQ3lrc3lqWjFaUXhGTmoybmp2TktMK3hJcWplVjVsCnk1Rkh4d2F0YWpLbmk1aVA4Ulh0QmJrRkRWVkNZbFVLZjZLdFN4Mnc4VXJkWkdPa3V1a0d4ZjB0bkx1Vmh6VUIKc1BmMlJaZHUyUVFzRmN5ZWZWU1U4eGt0QlBVNHRhYm16bS9uOUZjMmw1dUlZZ0lkYVVNdHZDeVlINlRmUUJUdwpmYlB5MjlOOHluSFgwTUZCSm1hMFF5UTFEKytqeVFIVHA1cnRPT2U3d1FyUlQ3dThEUUE0R0F4amUzNWVackdLCnFVOFRmL0RnTktPdzk0cEhpWCtuYmlTRW9KYnh1NSt4Slo1YzEzQTJRSERtdy9PSm1nMjVIS292MU9lYVV6cWYKbWtrNmZpenBrWnZUbUxEU0hsWjkvUWhyaCtVRVhvRmFkQW9QOWhJR2xxY0l6YW5ZYUU0NlpldFRNOHkyTEsxLwpHQ1E2ZHJXQzZVWmF5YzRCbUF5MHRDQWNhOGdnUFVKTkUyZzlXS3luV09XU1BIRnR6ZjRKWUlKWjRhejJqKzlRCjBUektmZzh0dUoxZ0NENGdkMWFINnpOd2FpUmcydjkwc011RUNDcThpejlndXlxc05tVGFOYVAxaTlTS2ZZUXUKQ056RkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFmQmdOVgpIU01FR0RBV2dCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBU1pja0ovaWNpRzh3Vi9aQVYwd0JNc3E5YVFHMnZTVjF1MmRsNlBrSWQKM0x2MWhLUkZkanZucUdUTC9kNWNRVGQ0K3FGNnBUa0Zwb2xTaFE1eTlMNS9wQVo2QWNraGlzemJ1OHcvQnBBZQptQ25mOE1JdTVvT1FjbkxaTEpqWDNkVG5kSWdwdXlmVlJBbXVqL0diOXpZSzk1cENJYVlEeUtpL2xpZ3cyS2x1CnVaakNKTUdIQzlLdHBuNTEwYjZEVnR0V25wdTVnVG5aRitEc2dqN01pMUpQaDNjcDRkdkZJMUdPdXFrWG1lazYKZ0V4V2RSaksvOGs0Q2YvOFY1YzdMME55L045RUcxZ2lWVnVYZlM4L2pXUTkwbERxK3RzMTRkbVF1ZzZzVW1PbApwZnFZTU5sdENzVlp0aWtKQU8reHZ2Y0FWTEN1elNzUDF1WlJublRXZU14RGFGSE5RRSs5bnczdDBlVVNmV3orCmV5TGhTQ3ZEWDIxTTd1WW1TQy9Cb2Vuc1NDWVZTZlRJY1k1R3FRbG84N1FaQXc2UzNxeTFzS1ZFUjRiZmNTUDgKcVNML3Z2cVN1L1hUWnZGOUNEYzFrYk5SNjdZcmg4bHlrd1h6dE1TenZRNVN4ZlBPeTViYlF1MDVDOElxdW1ucgpoLzJCS1N1bU1aamtLWUxyNUg4ZkZhTmJud0FMYmJOSzBhc29tTFFWQjU5bERJZjRRTTNNNnNHTkJ4Z2QvclV2CmVIUlNvVU5LaWd0ajY0cXMxdUp2UUU5cENxNjZTYTVveWtFN1MyYzcxN05WK3pMRFVDellMRXBJSUVJQkkxMy8KaS81SHhpZ3dJaXh5aDZFOVQyY1l2aWJ6S29PbS83OGxVc2VjVTVVSStvNFR1bEs1cXQrbHhLcmdvS3Z0VyszSApDUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
#                 "tls.key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBcnBsOElWSE1PVW1ZMTJGQzZYbWhxclRzL1BrSGh3RnBXQXhKQ1FhNG5oYTcrL2d0ClNLaGhHK2R6RFU2MXcvMUphVUxLNzU3SU9IaEZ3UENHYXF2d0xYenpDc0R2ODdvSndpMlB1YUppU3o2OTVYQ20KamQyazBValI0S2xjTm5BSFBPUExXSW0rSmkvVUJESFdHdnFSVmZjZkgxM1Fpby9PdmJFTVFkWVhJLzFrT0o2VApiSUhEVWtlaEpEV05iclNCNk5yU2d4NFVZTEtTektOblZsREVVMlBhZU84MG92N0VpcU41WG1YTGtVZkhCcTFxCk1xZUxtSS94RmUwRnVRVU5WVUppVlFwL29xMUxIYkR4U3Qxa1k2UzY2UWJGL1MyY3U1V0hOUUd3OS9aRmwyN1oKQkN3VnpKNTlWSlR6R1MwRTlUaTFwdWJPYitmMFZ6YVhtNGhpQWgxcFF5MjhMSmdmcE45QUZQQjlzL0xiMDN6SwpjZGZRd1VFbVpyUkRKRFVQNzZQSkFkT25tdTA0NTd2QkN0RlB1N3dOQURnWURHTjdmbDVtc1lxcFR4Ti84T0EwCm83RDNpa2VKZjZkdUpJU2dsdkc3bjdFbG5selhjRFpBY09iRDg0bWFEYmtjcWkvVTU1cFRPcCthU1RwK0xPbVIKbTlPWXNOSWVWbjM5Q0d1SDVRUmVnVnAwQ2cvMkVnYVdwd2pOcWRob1RqcGw2MU16ekxZc3JYOFlKRHAydFlMcApSbHJKemdHWURMUzBJQnhyeUNBOVFrMFRhRDFZcktkWTVaSThjVzNOL2dsZ2dsbmhyUGFQNzFEUlBNcCtEeTI0Cm5XQUlQaUIzVm9mck0zQnFKR0RhLzNTd3k0UUlLcnlMUDJDN0txdzJaTm8xby9XTDFJcDloQzRJM01VQ0F3RUEKQVFLQ0FnQjE4UHdtemNoMGtrQ0tqUXJVQi9PckNwaGpzaHpobDVSL2c1ejZXZTN2N0UrRHYzdG5iMFpad1JpNAp6b2grSWVTckZCRmRtQmFML3NLdnVFbzBXSHpmWFY0WHo0akhUTTQydXV3eGEzMldjb1Y0TFlaMG9sb3BmVlU0CnUyNnMzelFrYjRQM0JPVExpdGRmRmdNWktsVnVpb1lkZkJQWTVaZTBENXJHQmthUGF5VitFYkJvUmFlWk53V2wKSGYreDNvRTZ1RVluaC9RZjljQ3dOMWtndDJKSEtsWjBCckc1d1BzbTQ1S2lyNFM1V0pFYTg1MmZKZ3BvUGlPTwp1aE41amU0WnY4UUl5aFM1NFBHeTFzbkgxcEZ2dGVFRWRDemQveWUybHlWRUt5Wk4rYSs4d1lZYkNXU1lXaDh6Ck9ZS1ZhUkhHVEU1NHRjU1JWMUI0Y1Vvc0tBNTdYWVZ5d3pESVpDUExqd29Yb0NHbU5maVpqTXpFRGR6cDQ4YmwKV2E1ZStGNzkwbHJ6bE5tZ2ZpczZlRTNGZERPSmxBc25IS1AzQldaR28wTFdZYWNCUTRCMlVsYVRzTldPNzZkdgpaeUdnM0xGTC9FaGhTRDRlZ3l2N1NBUXoySFcxcEE5b0xOMlRTcUNMdmJ3N2VoNURCU3U5UlhtdXZHbHd6Wnd4Cm56SmJIaFl1OFNoVEYyd2ZIL2Zsa0V0aTdmZ2E1T294RkowNGkwYmc4MjlPL2h2NjhpMGtqUU9na243Qnk5Y3QKUi9IRHFZeEJuYVpzQjVqczRYTGljeUdLaVN6d3BRQmYzaEVXR0YxR1FxRlFSZFlrbUJ3MTFUS0hCNWErVXlYeApJL05GZlJXODRsbm8wQjA3bzVrbVkrL1p0Sm1FL3lyU3g1bVY3YU1SWmF5NWxBZHpxUUtDQVFFQTJQUVhvT1YzCmhXTWZxUGRuVHZBV3BZNm1FbHBhUElFL2hSYkFUNzRZeWdIbEd1MmZyeFJBa3dBN1hYTjJrckEvNFZIc2xSZS8KempUSlI4SkVmRGpNaDFnVXQ2dHZNN3RpcUFrMEhTU29OTndPK1hUaE41Y0lHZlkraEpkOFhRV3pRK0VUWVhncgp6NnkvOUl3ejIwemZLeFVBRXpTenhoOHZVaXJsVFZrSVVJcC9pUWJsbHZsVjZBTUczeUtZQzRqTkRQakdKUDNNCkZqdyswV25NK2dvUkx0cGtzOVhSKzFZL0xRNzBZNUhPVjY4azlhb1YrUmNSRlVqdS9Hcjlrb3laNXE1dFVReFQKUk8xUW84TWxiUnZuQVJuLzMxd3lMalh5eVN2U05GUTRRQyszeWJxc3dVaFNmYWl5OUI2aE1xSHdEQVJNS2xFNgpoNDNudWZBSHpYR2lLd0tDQVFFQXpnWDZrU2U4cEtmcG5qTnpyK2ozc0EyK2RmcHhyNWMyc2NCM2ZkeHd4ZVBCCng4Mk5NTDg1YWxWbDV6T0RGK0ordHFkeGpJWDhTY3I5L09Dc0ZjQ2JTRzRxdzRITmtua3Z5dk0vdlg0ZXB6WjEKT1ltcDl6M1lOaExzTllnV1VSWTljSzZVU2FsVHU1cjVWbzM5andpZzJVZkloZzhSOUJsZys4Q3ltSWhlYmlNeQpudnE4cFQySC9MOHA5cFdGajcwZFRQQk0rdFBrcXduSHJ4NlRtZ2RyRHAzNkZEOWg0UXVuR2o4QUpueUZLMG1sCndldGZhWXkxWUtuMFZsUVptVDVmOXhJSFhlcXBDc2ZYZ2NybzZheDJRc2JPTWtRKzZQanNWKzMyZDAwanNEY2cKMHk1R2wzbzNLcThHdklpZXFjaUtJa1hRMUM2dEM2SlBRVWVsa2FJMHp3S0NBUUVBeFVHeUZoMXMvWDl4c3N3MwpSd051WTlyK1RpT09kZ0xDQVR6OVg4T2tnRThXd3RRWTR6UFR2cFJ3Wlhoczc5U0dVRlNQZWNPZEpsekNRWmQxCmMwaWxWYzJWRUtZenRtS0N3ZXVVVVljWjFPM2NRNTJzaEVHeklQL09PZm9PSGZubjB5amEyVDFOQUVhK1JSZ1EKc2kwRG9BVTVDejFZMHlOWmdDajJVY3hJamdwUENRU1hUUnlvcWduT2ZxVFNmM0pEbGE2L1liVE1rYzczQXFwaQpyMWpsNUthMjl2ZkxNdTFwQll2YVVvbW9oZnI5N010WHJTSDI2MVpqekdkdTVJY29DeUMremZrWjRNcXhEaVNKCmE5bjV2L3VtdEt2OENCNFBBQy95c0pkK2lZV1pZalp6aWswNmkzd09NWDJEN1NobHZGZFA5UTNqM0luK2pnV2EKNG9XVi93S0NBUUJJWkNsckg3OVZTL3IycjdXU3RoVnlNeUlkYW1iUUFCNGp6ekV0ZEd2YjNPK1dPVS9ITlNvRApod1pMZXZveFJsQ245YVljYm1mN3Rld1JFeERrZzgwTVlrbDhjUHUrMy80L0hjSGozNUQ5eUZEZ2F0TGlJVVQ3Cm15S01uTWphclNuaGtqWmd1N0xFVk93UDBjeXFtYW1MTDRIeU9SRmg2QmovM1BIa1R1Wi9aTGJBemZIRFRoK2UKVzcxdSs1TDJzc2k4NUNMb2I5UUZsV1lvem1HbTJieHdZbW9nK3pSMVV4YmdUZ3JMZXkxL3pGMEdDcUo0QUEwcgpiZ3lBMlFRMXFJa24wNW5yRWkxYnNHUzFJb3M4c0hETmZmV3VDL1RlLzdoc0hSMWhSaVdvSVhiVFBZdG9ablZECjlrUXpzdjJ0UXQzbXRRbHZ4UWJnODZOTm1OTkFuUEpaQW9JQkFGMDF4MjZwU015akg4K2MxaW9VYVdaanRUZzgKMzFpU3NjR2VRMmVqQU91eXdLVUNhem9KN2wvZDhqL1BEMDgwMTZ5aEhzR2hrYUlFQmNsQjVyVjMrWVFib0tleAowbDMzVVRZZ2lHUTlleEVIVkR1YkFMYW16eHdBeW9KcEdqZHpNWjVNVHZNWitoak5kMzBmNEFQWUg3L2IyRFBNCkIyTVFzZGVoTFV0RHhFVEVqZlB2djV6WG9BWlhqcVZoTUFQSm1LM2pwVk9LWHJncC9LWVhKdHpBc0tpN0lpM3kKRlQxV2JHZkI3cWJJTTNSTE5Ib1Z0L3YwdHJDTlBGcVlsWWErYS9FdWI0R3cxc29IaXBsR3FWbDZRczFmOHRUVAo2aFkwRkwxMjdmNFpNVThJZHlyRnFva0tMZXdmVkRCcUZUc1E5TjBGQk90Mm0veThPMHdDdHNSbEZ5RT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
#             },
#             "kind": "Secret",
#             "metadata": {
#                 "creationTimestamp": "2022-07-28T06:09:10Z",
#                 "name": "domain-cert",
#                 "namespace": "default",
#                 "resourceVersion": "7181",
#                 "uid": "f898e4b0-4f83-4fcd-b13f-d6d2f085da77"
#             },
#             "type": "kubernetes.io/tls"
#         }
#     ],
#     "kind": "List",
#     "metadata": {
#         "resourceVersion": ""
#     }
# }

kubectl get secret domain-cert -o yaml > domain-cert.yml
cat domain-cert.yml

# apiVersion: v1
# data:
#   tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVZkNHM2tPcXhXSk1qdlJPTkZzNzh1SVFYNmdVd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd056STRNRFl3T1RBeldoY05Nekl3Ck56STFNRFl3T1RBeldqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBSzZaZkNGUnpEbEptTmRoUXVsNW9hcTA3UHo1QjRjQmFWZ01TUWtHCnVKNFd1L3Y0TFVpb1lSdm5jdzFPdGNQOVNXbEN5dStleURoNFJjRHdobXFyOEMxODh3ckE3L082Q2NJdGo3bWkKWWtzK3ZlVndwbzNkcE5GSTBlQ3BYRFp3Qnp6ankxaUp2aVl2MUFReDFocjZrVlgzSHg5ZDBJcVB6cjJ4REVIVwpGeVA5WkRpZWsyeUJ3MUpIb1NRMWpXNjBnZWphMG9NZUZHQ3lrc3lqWjFaUXhGTmoybmp2TktMK3hJcWplVjVsCnk1Rkh4d2F0YWpLbmk1aVA4Ulh0QmJrRkRWVkNZbFVLZjZLdFN4Mnc4VXJkWkdPa3V1a0d4ZjB0bkx1Vmh6VUIKc1BmMlJaZHUyUVFzRmN5ZWZWU1U4eGt0QlBVNHRhYm16bS9uOUZjMmw1dUlZZ0lkYVVNdHZDeVlINlRmUUJUdwpmYlB5MjlOOHluSFgwTUZCSm1hMFF5UTFEKytqeVFIVHA1cnRPT2U3d1FyUlQ3dThEUUE0R0F4amUzNWVackdLCnFVOFRmL0RnTktPdzk0cEhpWCtuYmlTRW9KYnh1NSt4Slo1YzEzQTJRSERtdy9PSm1nMjVIS292MU9lYVV6cWYKbWtrNmZpenBrWnZUbUxEU0hsWjkvUWhyaCtVRVhvRmFkQW9QOWhJR2xxY0l6YW5ZYUU0NlpldFRNOHkyTEsxLwpHQ1E2ZHJXQzZVWmF5YzRCbUF5MHRDQWNhOGdnUFVKTkUyZzlXS3luV09XU1BIRnR6ZjRKWUlKWjRhejJqKzlRCjBUektmZzh0dUoxZ0NENGdkMWFINnpOd2FpUmcydjkwc011RUNDcThpejlndXlxc05tVGFOYVAxaTlTS2ZZUXUKQ056RkFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFmQmdOVgpIU01FR0RBV2dCVGpoQTZwM0dDWlRPK0tDWnVSb3JXdDQydzlKekFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBU1pja0ovaWNpRzh3Vi9aQVYwd0JNc3E5YVFHMnZTVjF1MmRsNlBrSWQKM0x2MWhLUkZkanZucUdUTC9kNWNRVGQ0K3FGNnBUa0Zwb2xTaFE1eTlMNS9wQVo2QWNraGlzemJ1OHcvQnBBZQptQ25mOE1JdTVvT1FjbkxaTEpqWDNkVG5kSWdwdXlmVlJBbXVqL0diOXpZSzk1cENJYVlEeUtpL2xpZ3cyS2x1CnVaakNKTUdIQzlLdHBuNTEwYjZEVnR0V25wdTVnVG5aRitEc2dqN01pMUpQaDNjcDRkdkZJMUdPdXFrWG1lazYKZ0V4V2RSaksvOGs0Q2YvOFY1YzdMME55L045RUcxZ2lWVnVYZlM4L2pXUTkwbERxK3RzMTRkbVF1ZzZzVW1PbApwZnFZTU5sdENzVlp0aWtKQU8reHZ2Y0FWTEN1elNzUDF1WlJublRXZU14RGFGSE5RRSs5bnczdDBlVVNmV3orCmV5TGhTQ3ZEWDIxTTd1WW1TQy9Cb2Vuc1NDWVZTZlRJY1k1R3FRbG84N1FaQXc2UzNxeTFzS1ZFUjRiZmNTUDgKcVNML3Z2cVN1L1hUWnZGOUNEYzFrYk5SNjdZcmg4bHlrd1h6dE1TenZRNVN4ZlBPeTViYlF1MDVDOElxdW1ucgpoLzJCS1N1bU1aamtLWUxyNUg4ZkZhTmJud0FMYmJOSzBhc29tTFFWQjU5bERJZjRRTTNNNnNHTkJ4Z2QvclV2CmVIUlNvVU5LaWd0ajY0cXMxdUp2UUU5cENxNjZTYTVveWtFN1MyYzcxN05WK3pMRFVDellMRXBJSUVJQkkxMy8KaS81SHhpZ3dJaXh5aDZFOVQyY1l2aWJ6S29PbS83OGxVc2VjVTVVSStvNFR1bEs1cXQrbHhLcmdvS3Z0VyszSApDUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
#   tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBcnBsOElWSE1PVW1ZMTJGQzZYbWhxclRzL1BrSGh3RnBXQXhKQ1FhNG5oYTcrL2d0ClNLaGhHK2R6RFU2MXcvMUphVUxLNzU3SU9IaEZ3UENHYXF2d0xYenpDc0R2ODdvSndpMlB1YUppU3o2OTVYQ20KamQyazBValI0S2xjTm5BSFBPUExXSW0rSmkvVUJESFdHdnFSVmZjZkgxM1Fpby9PdmJFTVFkWVhJLzFrT0o2VApiSUhEVWtlaEpEV05iclNCNk5yU2d4NFVZTEtTektOblZsREVVMlBhZU84MG92N0VpcU41WG1YTGtVZkhCcTFxCk1xZUxtSS94RmUwRnVRVU5WVUppVlFwL29xMUxIYkR4U3Qxa1k2UzY2UWJGL1MyY3U1V0hOUUd3OS9aRmwyN1oKQkN3VnpKNTlWSlR6R1MwRTlUaTFwdWJPYitmMFZ6YVhtNGhpQWgxcFF5MjhMSmdmcE45QUZQQjlzL0xiMDN6SwpjZGZRd1VFbVpyUkRKRFVQNzZQSkFkT25tdTA0NTd2QkN0RlB1N3dOQURnWURHTjdmbDVtc1lxcFR4Ti84T0EwCm83RDNpa2VKZjZkdUpJU2dsdkc3bjdFbG5selhjRFpBY09iRDg0bWFEYmtjcWkvVTU1cFRPcCthU1RwK0xPbVIKbTlPWXNOSWVWbjM5Q0d1SDVRUmVnVnAwQ2cvMkVnYVdwd2pOcWRob1RqcGw2MU16ekxZc3JYOFlKRHAydFlMcApSbHJKemdHWURMUzBJQnhyeUNBOVFrMFRhRDFZcktkWTVaSThjVzNOL2dsZ2dsbmhyUGFQNzFEUlBNcCtEeTI0Cm5XQUlQaUIzVm9mck0zQnFKR0RhLzNTd3k0UUlLcnlMUDJDN0txdzJaTm8xby9XTDFJcDloQzRJM01VQ0F3RUEKQVFLQ0FnQjE4UHdtemNoMGtrQ0tqUXJVQi9PckNwaGpzaHpobDVSL2c1ejZXZTN2N0UrRHYzdG5iMFpad1JpNAp6b2grSWVTckZCRmRtQmFML3NLdnVFbzBXSHpmWFY0WHo0akhUTTQydXV3eGEzMldjb1Y0TFlaMG9sb3BmVlU0CnUyNnMzelFrYjRQM0JPVExpdGRmRmdNWktsVnVpb1lkZkJQWTVaZTBENXJHQmthUGF5VitFYkJvUmFlWk53V2wKSGYreDNvRTZ1RVluaC9RZjljQ3dOMWtndDJKSEtsWjBCckc1d1BzbTQ1S2lyNFM1V0pFYTg1MmZKZ3BvUGlPTwp1aE41amU0WnY4UUl5aFM1NFBHeTFzbkgxcEZ2dGVFRWRDemQveWUybHlWRUt5Wk4rYSs4d1lZYkNXU1lXaDh6Ck9ZS1ZhUkhHVEU1NHRjU1JWMUI0Y1Vvc0tBNTdYWVZ5d3pESVpDUExqd29Yb0NHbU5maVpqTXpFRGR6cDQ4YmwKV2E1ZStGNzkwbHJ6bE5tZ2ZpczZlRTNGZERPSmxBc25IS1AzQldaR28wTFdZYWNCUTRCMlVsYVRzTldPNzZkdgpaeUdnM0xGTC9FaGhTRDRlZ3l2N1NBUXoySFcxcEE5b0xOMlRTcUNMdmJ3N2VoNURCU3U5UlhtdXZHbHd6Wnd4Cm56SmJIaFl1OFNoVEYyd2ZIL2Zsa0V0aTdmZ2E1T294RkowNGkwYmc4MjlPL2h2NjhpMGtqUU9na243Qnk5Y3QKUi9IRHFZeEJuYVpzQjVqczRYTGljeUdLaVN6d3BRQmYzaEVXR0YxR1FxRlFSZFlrbUJ3MTFUS0hCNWErVXlYeApJL05GZlJXODRsbm8wQjA3bzVrbVkrL1p0Sm1FL3lyU3g1bVY3YU1SWmF5NWxBZHpxUUtDQVFFQTJQUVhvT1YzCmhXTWZxUGRuVHZBV3BZNm1FbHBhUElFL2hSYkFUNzRZeWdIbEd1MmZyeFJBa3dBN1hYTjJrckEvNFZIc2xSZS8KempUSlI4SkVmRGpNaDFnVXQ2dHZNN3RpcUFrMEhTU29OTndPK1hUaE41Y0lHZlkraEpkOFhRV3pRK0VUWVhncgp6NnkvOUl3ejIwemZLeFVBRXpTenhoOHZVaXJsVFZrSVVJcC9pUWJsbHZsVjZBTUczeUtZQzRqTkRQakdKUDNNCkZqdyswV25NK2dvUkx0cGtzOVhSKzFZL0xRNzBZNUhPVjY4azlhb1YrUmNSRlVqdS9Hcjlrb3laNXE1dFVReFQKUk8xUW84TWxiUnZuQVJuLzMxd3lMalh5eVN2U05GUTRRQyszeWJxc3dVaFNmYWl5OUI2aE1xSHdEQVJNS2xFNgpoNDNudWZBSHpYR2lLd0tDQVFFQXpnWDZrU2U4cEtmcG5qTnpyK2ozc0EyK2RmcHhyNWMyc2NCM2ZkeHd4ZVBCCng4Mk5NTDg1YWxWbDV6T0RGK0ordHFkeGpJWDhTY3I5L09Dc0ZjQ2JTRzRxdzRITmtua3Z5dk0vdlg0ZXB6WjEKT1ltcDl6M1lOaExzTllnV1VSWTljSzZVU2FsVHU1cjVWbzM5andpZzJVZkloZzhSOUJsZys4Q3ltSWhlYmlNeQpudnE4cFQySC9MOHA5cFdGajcwZFRQQk0rdFBrcXduSHJ4NlRtZ2RyRHAzNkZEOWg0UXVuR2o4QUpueUZLMG1sCndldGZhWXkxWUtuMFZsUVptVDVmOXhJSFhlcXBDc2ZYZ2NybzZheDJRc2JPTWtRKzZQanNWKzMyZDAwanNEY2cKMHk1R2wzbzNLcThHdklpZXFjaUtJa1hRMUM2dEM2SlBRVWVsa2FJMHp3S0NBUUVBeFVHeUZoMXMvWDl4c3N3MwpSd051WTlyK1RpT09kZ0xDQVR6OVg4T2tnRThXd3RRWTR6UFR2cFJ3Wlhoczc5U0dVRlNQZWNPZEpsekNRWmQxCmMwaWxWYzJWRUtZenRtS0N3ZXVVVVljWjFPM2NRNTJzaEVHeklQL09PZm9PSGZubjB5amEyVDFOQUVhK1JSZ1EKc2kwRG9BVTVDejFZMHlOWmdDajJVY3hJamdwUENRU1hUUnlvcWduT2ZxVFNmM0pEbGE2L1liVE1rYzczQXFwaQpyMWpsNUthMjl2ZkxNdTFwQll2YVVvbW9oZnI5N010WHJTSDI2MVpqekdkdTVJY29DeUMremZrWjRNcXhEaVNKCmE5bjV2L3VtdEt2OENCNFBBQy95c0pkK2lZV1pZalp6aWswNmkzd09NWDJEN1NobHZGZFA5UTNqM0luK2pnV2EKNG9XVi93S0NBUUJJWkNsckg3OVZTL3IycjdXU3RoVnlNeUlkYW1iUUFCNGp6ekV0ZEd2YjNPK1dPVS9ITlNvRApod1pMZXZveFJsQ245YVljYm1mN3Rld1JFeERrZzgwTVlrbDhjUHUrMy80L0hjSGozNUQ5eUZEZ2F0TGlJVVQ3Cm15S01uTWphclNuaGtqWmd1N0xFVk93UDBjeXFtYW1MTDRIeU9SRmg2QmovM1BIa1R1Wi9aTGJBemZIRFRoK2UKVzcxdSs1TDJzc2k4NUNMb2I5UUZsV1lvem1HbTJieHdZbW9nK3pSMVV4YmdUZ3JMZXkxL3pGMEdDcUo0QUEwcgpiZ3lBMlFRMXFJa24wNW5yRWkxYnNHUzFJb3M4c0hETmZmV3VDL1RlLzdoc0hSMWhSaVdvSVhiVFBZdG9ablZECjlrUXpzdjJ0UXQzbXRRbHZ4UWJnODZOTm1OTkFuUEpaQW9JQkFGMDF4MjZwU015akg4K2MxaW9VYVdaanRUZzgKMzFpU3NjR2VRMmVqQU91eXdLVUNhem9KN2wvZDhqL1BEMDgwMTZ5aEhzR2hrYUlFQmNsQjVyVjMrWVFib0tleAowbDMzVVRZZ2lHUTlleEVIVkR1YkFMYW16eHdBeW9KcEdqZHpNWjVNVHZNWitoak5kMzBmNEFQWUg3L2IyRFBNCkIyTVFzZGVoTFV0RHhFVEVqZlB2djV6WG9BWlhqcVZoTUFQSm1LM2pwVk9LWHJncC9LWVhKdHpBc0tpN0lpM3kKRlQxV2JHZkI3cWJJTTNSTE5Ib1Z0L3YwdHJDTlBGcVlsWWErYS9FdWI0R3cxc29IaXBsR3FWbDZRczFmOHRUVAo2aFkwRkwxMjdmNFpNVThJZHlyRnFva0tMZXdmVkRCcUZUc1E5TjBGQk90Mm0veThPMHdDdHNSbEZ5RT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
# kind: Secret
# metadata:
#   creationTimestamp: "2022-07-28T06:09:10Z"
#   name: domain-cert
#   namespace: default
#   resourceVersion: "7181"
#   uid: f898e4b0-4f83-4fcd-b13f-d6d2f085da77
# type: kubernetes.io/tls
```
### 1.5 Как удалить секрет?
```shell
kubectl delete secret domain-cert

# secret/domain-cert created

kubectl get secrets

# No resources found in default namespace.
```
### 1.6 Как загрузить секрет из файла?
```shell
kubectl apply -f domain-cert.yml

# secret "domain-cert" deleted

kubectl get secrets

# NAME          TYPE                DATA   AGE
# domain-cert   kubernetes.io/tls   2      13s
```

## 2. Работа с секретами внутри модуля
### 2.1 `main.yaml`
```yaml
---
apiVersion: v1
data:
  username: YWRtaW4K
  password: cGFzc3dvcmQK
kind: Secret
metadata:
  name: env-secret
  namespace: default
type: Opaque

---
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
  labels:
    app: my-app
spec:
  replicas: 1
  selector:
    matchLabels:
      app: my-app
  template:
    metadata:
      labels:
        app: my-app
    spec:
      containers:
      - name: my-app
        image: cryptodeveloper/netology-frontend:v0.1.0
        imagePullPolicy: IfNotPresent
        volumeMounts:
        - name: certs
          mountPath: "/certs"
          readOnly: true
        env:
          - name: MY_SECRET_USERNAME
            valueFrom:
              secretKeyRef:
                name: env-secret
                key: username
          - name: MY_SECRET_PASSWORD
            valueFrom:
              secretKeyRef:
                name: env-secret
                key: password
      volumes:
      - name: certs
        secret:
          secretName: domain-cert
```
```shell
kubectl exec my-app-dd9fbcbdb-ss86b my-app -- sh -c 'echo $MY_SECRET_USERNAME'

# admin

kubectl exec my-app-dd9fbcbdb-ss86b my-app -- sh -c 'echo $MY_SECRET_PASSWORD'

# password

kubectl exec my-app-dd9fbcbdb-ss86b my-app -- sh -c 'cat /certs/tls.crt'

# -----BEGIN CERTIFICATE-----
# MIIFbTCCA1WgAwIBAgIUfCG3kOqxWJMjvRONFs78uIQX6gUwDQYJKoZIhvcNAQEL

# ...

# CQ==
# -----END CERTIFICATE-----

kubectl exec my-app-dd9fbcbdb-ss86b my-app -- sh -c 'cat /certs/tls.key'

# -----BEGIN RSA PRIVATE KEY-----
# MIIJKAIBAAKCAgEArpl8IVHMOUmY12FC6XmhqrTs/PkHhwFpWAxJCQa4nha7+/gt

# ...

# 6hY0FL127f4ZMU8IdyrFqokKLewfVDBqFTsQ9N0FBOt2m/y8O0wCtsRlFyE=
# -----END RSA PRIVATE KEY-----
```